#output: 2
#output: 4
#output: 6

public expand int[] {
	public map(projection as function(value as int) as int) as int[] {
		var len = length;
		var values = new int[](len);
		for i, value in this
			values[i] = projection(value);
		return values;
	}
}

var a = [1, 2, 3];
var b = a.map(x => x * 2);
for item in b {
	println(item);
}
