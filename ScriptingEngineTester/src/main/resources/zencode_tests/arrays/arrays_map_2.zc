#output: string[]
#output: a1
#output: a2
#output: a3

public expand <T> T[] {
	public map<U>(projection as function(value as T) as U) as U[] {
		return new U[](length, index => projection(this[index]));
	}
}

var a = ["1", "2", "3"];
var b = a.map<string>(x => "a" + x);
println(typeof(b));
for item in b {
	println(item);
}
